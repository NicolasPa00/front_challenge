import{a as E}from"./chunk-7BEG44RO.js";import{$ as f,A as u,B as m,C as L,D as C,E as R,F as l,G as T,H as B,J as G,M as z,N as H,O as P,Q as w,R as U,S as Y,T as Z,U as S,V as J,W as K,X as Q,Y as x,_ as W,a as A,aa as X,ba as $,ca as ee,d as V,da as te,e as F,ea as ne,f as g,g as v,ga as oe,ha as re,j as a,k as _,l as h,m as d,n as D,o as b,t as s,u as i,v as r,w as p,x as N,y as q,z as y}from"./chunk-DIR3CT2O.js";var M=class t{constructor(o,n){this.apiService=o;this.router=n}canActivate(){return localStorage.getItem("token")?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(n){return new(n||t)(F(x),F(S))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})};function ce(t,o){t&1&&(i(0,"span"),l(1,"El nombre es requerido"),r())}function pe(t,o){if(t&1&&(i(0,"div",30),d(1,ce,2,0,"span",26),r()),t&2){let n=m();a(),s("ngIf",n.name==null||n.name.errors==null?null:n.name.errors.required)}}function ue(t,o){t&1&&(i(0,"span"),l(1,"El apellido es requerido"),r())}function fe(t,o){if(t&1&&(i(0,"div",31),d(1,ue,2,0,"span",26),r()),t&2){let n=m();a(),s("ngIf",n.apellido==null||n.apellido.errors==null?null:n.apellido.errors.required)}}function ge(t,o){t&1&&(i(0,"span"),l(1,"El documento es requerido"),r())}function ve(t,o){if(t&1&&(i(0,"div",32),d(1,ge,2,0,"span",26),r()),t&2){let n=m();a(),s("ngIf",n.documento==null||n.documento.errors==null?null:n.documento.errors.required)}}function _e(t,o){t&1&&(i(0,"span"),l(1,"El correo electr\xF3nico es requerido"),r())}function be(t,o){t&1&&(i(0,"span"),l(1,"Formato de correo electr\xF3nico inv\xE1lido"),r())}function Ce(t,o){if(t&1&&(i(0,"div",33),d(1,_e,2,0,"span",26)(2,be,2,0,"span",26),r()),t&2){let n=m();a(),s("ngIf",n.email==null||n.email.errors==null?null:n.email.errors.required),a(),s("ngIf",n.email==null||n.email.errors==null?null:n.email.errors.email)}}function he(t,o){t&1&&(i(0,"span"),l(1,"La contrase\xF1a es requerida"),r())}function we(t,o){t&1&&(i(0,"span"),l(1,"Debe tener al menos 6 caracteres"),r())}function Me(t,o){if(t&1&&(i(0,"div",34),d(1,he,2,0,"span",26)(2,we,2,0,"span",26),r()),t&2){let n=m();a(),s("ngIf",n.password==null||n.password.errors==null?null:n.password.errors.required),a(),s("ngIf",n.password==null||n.password.errors==null?null:n.password.errors.minlength)}}function ye(t,o){t&1&&(i(0,"div",35),l(1," Las contrase\xF1as no coinciden "),r())}function Pe(t,o){t&1&&(i(0,"span"),l(1,"Crear cuenta"),r())}function Se(t,o){t&1&&(i(0,"span"),l(1,"Cargando..."),r())}function xe(t,o){if(t&1&&(i(0,"div",36),l(1),r()),t&2){let n=m();a(),B(" ",n.errorMessage," ")}}var O=class t{constructor(o,n,e,c){this.fb=o;this.router=n;this.apiService=e;this.mensajeService=c;this.registerForm=this.fb.group({name:["",f.required],apellido:["",f.required],documento:["",f.required],email:["",[f.required,f.email]],password:["",[f.required,f.minLength(6)]],confirmPassword:["",f.required]},{validators:this.passwordMatchValidator})}registerForm;isLoading=!1;errorMessage="";get name(){return this.registerForm.get("name")}get apellido(){return this.registerForm.get("apellido")}get documento(){return this.registerForm.get("documento")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get confirmPassword(){return this.registerForm.get("confirmPassword")}passwordMatchValidator(o){let n=o.get("password")?.value,e=o.get("confirmPassword")?.value;return n===e?null:{passwordMismatch:!0}}onSubmit(){if(this.registerForm.valid){this.isLoading=!0,this.errorMessage="";let o={nombre:this.registerForm.value.name,apellido:this.registerForm.value.apellido,email:this.registerForm.value.email,password:this.registerForm.value.password,credential:this.registerForm.value.documento};this.apiService.register(o).subscribe({next:n=>{this.isLoading=!1,console.log("Registro exitoso",n),this.mensajeService.mostrarMensaje({type:"success",title:"Registro Exitoso",message:"Te has registrado correctamente. Haz clic en Aceptar para ir al login.",showButton:!0,duration:0}).subscribe(e=>{e&&this.router.navigate(["/login"])})},error:n=>{this.isLoading=!1,this.errorMessage=n.message||"Error en el registro",this.mensajeService.mostrarMensaje({type:"error",title:"Error de Registro",message:this.errorMessage,duration:5e3,showButton:!0}).subscribe(),console.error("Error en el registro",n)}})}}static \u0275fac=function(n){return new(n||t)(_(oe),_(S),_(x),_(E))};static \u0275cmp=h({type:t,selectors:[["app-register"]],decls:47,vars:29,consts:[[1,"login-container"],[1,"login-card","registration-card"],[1,"login-title"],[1,"login-form","two-columns",3,"ngSubmit","formGroup"],[1,"form-group"],["for","name",1,"form-label"],["id","name","type","text","formControlName","name","aria-describedby","name-error",1,"form-input"],["class","error-message","id","name-error",4,"ngIf"],["for","apellido",1,"form-label"],["id","apellido","type","text","formControlName","apellido","aria-describedby","apellido-error",1,"form-input"],["class","error-message","id","apellido-error",4,"ngIf"],["for","documento",1,"form-label"],["id","documento","type","text","formControlName","documento","aria-describedby","documento-error",1,"form-input"],["class","error-message","id","documento-error",4,"ngIf"],["for","email",1,"form-label"],["id","email","type","email","formControlName","email","aria-describedby","email-error",1,"form-input"],["class","error-message","id","email-error",4,"ngIf"],["for","password",1,"form-label"],[1,"password-container"],["id","password","type","password","formControlName","password","aria-describedby","password-error",1,"form-input"],["class","error-message","id","password-error",4,"ngIf"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","type","password","formControlName","confirmPassword","aria-describedby","confirmPassword-error",1,"form-input"],["class","error-message","id","confirmPassword-error",4,"ngIf"],[1,"button-container"],["type","submit",1,"login-button","reg",3,"disabled"],[4,"ngIf"],[1,"form-options"],["routerLink","/login"],["class","error-message general-error",4,"ngIf"],["id","name-error",1,"error-message"],["id","apellido-error",1,"error-message"],["id","documento-error",1,"error-message"],["id","email-error",1,"error-message"],["id","password-error",1,"error-message"],["id","confirmPassword-error",1,"error-message"],[1,"error-message","general-error"]],template:function(n,e){n&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2),l(3,"Reg\xEDstrate"),r(),i(4,"form",3),u("ngSubmit",function(){return e.onSubmit()}),i(5,"div",4)(6,"label",5),l(7,"Nombre"),r(),p(8,"input",6),d(9,pe,2,1,"div",7),r(),i(10,"div",4)(11,"label",8),l(12,"Apellido"),r(),p(13,"input",9),d(14,fe,2,1,"div",10),r(),i(15,"div",4)(16,"label",11),l(17,"Documento"),r(),p(18,"input",12),d(19,ve,2,1,"div",13),r(),i(20,"div",4)(21,"label",14),l(22,"Correo electr\xF3nico"),r(),p(23,"input",15),d(24,Ce,3,2,"div",16),r(),i(25,"div",4)(26,"label",17),l(27,"Contrase\xF1a"),r(),i(28,"div",18),p(29,"input",19),r(),d(30,Me,3,2,"div",20),r(),i(31,"div",4)(32,"label",21),l(33,"Confirmar contrase\xF1a"),r(),p(34,"input",22),d(35,ye,2,0,"div",23),r(),i(36,"div",24)(37,"button",25),d(38,Pe,2,0,"span",26)(39,Se,2,0,"span",26),r()()(),i(40,"div",27)(41,"span"),l(42,"\xBFYa tienes cuenta?"),r(),i(43,"a",28)(44,"strong"),l(45,"Inicia sesi\xF3n"),r()()(),d(46,xe,2,1,"div",29),r()()),n&2&&(a(4),s("formGroup",e.registerForm),a(4),C("invalid",(e.name==null?null:e.name.invalid)&&(e.name==null?null:e.name.touched)),b("aria-invalid",(e.name==null?null:e.name.invalid)&&(e.name==null?null:e.name.touched)),a(),s("ngIf",(e.name==null?null:e.name.invalid)&&(e.name==null?null:e.name.touched)),a(4),C("invalid",(e.apellido==null?null:e.apellido.invalid)&&(e.apellido==null?null:e.apellido.touched)),b("aria-invalid",(e.apellido==null?null:e.apellido.invalid)&&(e.apellido==null?null:e.apellido.touched)),a(),s("ngIf",(e.apellido==null?null:e.apellido.invalid)&&(e.apellido==null?null:e.apellido.touched)),a(4),C("invalid",(e.documento==null?null:e.documento.invalid)&&(e.documento==null?null:e.documento.touched)),b("aria-invalid",(e.documento==null?null:e.documento.invalid)&&(e.documento==null?null:e.documento.touched)),a(),s("ngIf",(e.documento==null?null:e.documento.invalid)&&(e.documento==null?null:e.documento.touched)),a(4),C("invalid",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),b("aria-invalid",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),a(),s("ngIf",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),a(5),C("invalid",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),b("aria-invalid",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),a(),s("ngIf",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),a(4),C("invalid",(e.confirmPassword==null?null:e.confirmPassword.invalid)&&(e.confirmPassword==null?null:e.confirmPassword.touched)),b("aria-invalid",(e.confirmPassword==null?null:e.confirmPassword.invalid)&&(e.confirmPassword==null?null:e.confirmPassword.touched)),a(),s("ngIf",e.registerForm.hasError("passwordMismatch")&&(e.confirmPassword==null?null:e.confirmPassword.touched)),a(2),s("disabled",e.registerForm.invalid||e.isLoading),a(),s("ngIf",!e.isLoading),a(),s("ngIf",e.isLoading),a(7),s("ngIf",e.errorMessage))},dependencies:[w,P,re,ee,W,X,$,te,ne,Q,J],encapsulation:2})};var Ee=[{path:"login",loadComponent:()=>import("./chunk-5IGV7Z7Z.js").then(t=>t.LoginComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-RCOWCZTQ.js").then(t=>t.DashboardComponent),canActivate:[M]},{path:"register",component:O},{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"**",redirectTo:"/dashboard",pathMatch:"full"}],ae={providers:[H({eventCoalescing:!0}),K(Ee),Y(),M]};function Oe(t,o){if(t&1){let n=y();N(0),i(1,"button",9),u("click",function(){g(n);let c=m(2);return v(c.close(!1))}),l(2,"Cancelar"),r(),i(3,"button",10),u("click",function(){g(n);let c=m(2);return v(c.close(!0))}),l(4,"Confirmar"),r(),q()}}function Ie(t,o){if(t&1){let n=y();i(0,"button",12),u("click",function(){g(n);let c=m(3);return v(c.close(!0))}),l(1," Aceptar "),r()}}function ke(t,o){if(t&1&&d(0,Ie,2,0,"button",11),t&2){let n=m(2);s("ngIf",n.showButton||!n.duration)}}function Fe(t,o){if(t&1){let n=y();i(0,"div",2),u("click",function(){g(n);let c=m();return v(c.close())}),i(1,"div",3),u("click",function(c){return g(n),v(c.stopPropagation())}),i(2,"div",4),p(3,"i"),i(4,"h3"),l(5),r(),i(6,"button",5),u("click",function(){g(n);let c=m();return v(c.close())}),l(7,"\xD7"),r()(),i(8,"div",6)(9,"p"),l(10),r()(),i(11,"div",7),d(12,Oe,5,0,"ng-container",8)(13,ke,1,1,"ng-template",null,0,z),r()()()}if(t&2){let n=L(14),e=m();a(),R(e.modalClass),a(2),R(G("fas ",e.iconClass)),a(2),T(e.title),a(5),T(e.message),a(2),s("ngIf",e.type==="confirm")("ngIfElse",n)}}var I=class t{constructor(o){this.mensajeService=o}type="info";title="";message="";show=!1;showButton=!1;duration;closed=new D;subscription=new A;ngOnInit(){this.subscription=this.mensajeService.getMensajes().subscribe(o=>{this.type=o.type,this.title=o.title,this.message=o.message,this.showButton=o.showButton||!1,this.duration=o.duration,this.show=!0,this.duration&&this.duration>0&&setTimeout(()=>{this.close(!0)},this.duration)})}ngOnDestroy(){this.subscription.unsubscribe()}close(o=!0){this.show=!1,this.closed.emit(o),this.mensajeService.cerrarMensaje(o)}get iconClass(){return{success:"fa-check-circle",error:"fa-exclamation-circle",warning:"fa-exclamation-triangle",info:"fa-info-circle",confirm:"fa-question-circle"}[this.type]}get modalClass(){return{success:"modal-success",error:"modal-error",warning:"modal-warning",info:"modal-info",confirm:"modal-confirm"}[this.type]}static \u0275fac=function(n){return new(n||t)(_(E))};static \u0275cmp=h({type:t,selectors:[["app-modal"]],inputs:{type:"type",title:"title",message:"message",show:"show",showButton:"showButton",duration:"duration"},outputs:{closed:"closed"},decls:1,vars:1,consts:[["simpleModal",""],["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"modal-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],[4,"ngIf","ngIfElse"],[1,"btn","btn-cancel",3,"click"],[1,"btn","btn-confirm",3,"click"],["class","btn btn-ok",3,"click",4,"ngIf"],[1,"btn","btn-ok",3,"click"]],template:function(n,e){n&1&&d(0,Fe,15,9,"div",1),n&2&&s("ngIf",e.show)},dependencies:[w,P],styles:['@charset "UTF-8";.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-container[_ngcontent-%COMP%]{background:#1f1f1ff2;border-radius:8px;padding:0;min-width:300px;max-width:500px;box-shadow:0 12px 30px #0000008c;border-left:6px solid;border-right:2px solid rgba(255,255,255,.18);border-top:2px solid rgba(255,255,255,.18);border-bottom:2px solid rgba(255,255,255,.18)}.modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem 1.5rem;border-bottom:2px solid var(--gray-700)}.modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:.75rem;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;flex:1;color:#fff;font-weight:600}.modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--gray-300);border:1px solid var(--gray-600);border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.modal-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{color:#fff;border-color:var(--gray-400);background:#ffffff1a}.modal-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem;color:#fff;border-left:2px solid transparent;border-right:2px solid transparent}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem;display:flex;justify-content:flex-end;gap:.75rem;border-top:2px solid var(--gray-700)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1.5rem;border:2px solid transparent;border-radius:6px;cursor:pointer;font-weight:500;transition:all .2s;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-ok[_ngcontent-%COMP%]{background:var(--gray-600);border-color:var(--gray-500)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-ok[_ngcontent-%COMP%]:hover{background:var(--gray-500);border-color:var(--gray-400)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-cancel[_ngcontent-%COMP%]{background:var(--gray-700);border-color:var(--gray-600)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-cancel[_ngcontent-%COMP%]:hover, .modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-confirm[_ngcontent-%COMP%]{background:var(--gray-600);border-color:var(--gray-500)}.modal-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn.btn-confirm[_ngcontent-%COMP%]:hover{background:var(--gray-500);border-color:var(--gray-400)}.modal-success[_ngcontent-%COMP%]{border-left-color:#10b981;border-left-width:8px}.modal-error[_ngcontent-%COMP%]{border-left-color:#ef4444;border-left-width:8px}.modal-warning[_ngcontent-%COMP%]{border-left-color:#f59e0b;border-left-width:8px}.modal-info[_ngcontent-%COMP%]{border-left-color:#3b82f6;border-left-width:8px}.modal-confirm[_ngcontent-%COMP%]{border-left-color:#8b5cf6;border-left-width:8px}.modal-container[_ngcontent-%COMP%]{position:relative;overflow:hidden}.modal-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;height:100%;width:3px;background:linear-gradient(to bottom,rgba(255,255,255,.3),transparent,rgba(255,255,255,.3));pointer-events:none}']})};var k=class t{title="front_challenge_app";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=h({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,e){n&1&&p(0,"router-outlet")(1,"app-modal")},dependencies:[w,Z,I],encapsulation:2})};U(k,ae).catch(t=>console.error(t));
